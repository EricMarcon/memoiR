[["index.html", "Title of the Memoir Introduction", " Title of the Memoir Authors’ names 2021-05-03 Introduction This document allows you to create a book in PDF format (and ePub format) at the same time as an HTML version to be published on the web. The syntax is that of Markdown with some extensions. The bookdown package must be installed from CRAN or GitHub: install.packages(&quot;bookdown&quot;) # or the development version # devtools::install_github(&#39;rstudio/bookdown&#39;) The book is organized in chapters. Each chapter is an Rmd file, whose name normally begins with its number (e.g. 01-intro.Rmd). All Rmd files in the project folder are actually treated as chapters, sorted by filename. The index.Rmd file is special: it contains the document header and the first chapter. This first chapter is placed in the foreword of the printed book: it should not be numbered (hence the {-} code next to the title) in the HTML version. It must end with the LaTeX command \\mainmatter which marks the beginning of the body of the book. The outline levels start with # for chapters (only one per file), ## for sections, etc. Compilation in PDF format is done by XeLaTeX, which must be installed. While writing, it is strongly advised to create only the HTML file, which is much faster than a LaTeX compilation. Each chapter can be viewed very quickly by clicking on the Knit button above the source window. The entire book is created by clicking on the Build Book button in the RStudio Build window. The button’s drop-down list allows you to create all documents or limit yourself to one format. "],["getting-started.html", "1 Getting Started 1.1 index.Rmd 1.2 _bookdown.yml 1.3 _output.yml 1.4 Multilingual documents", " 1 Getting Started RStudio in version higher than 1 must be used. The bookdown package must be installed. For the creation of the PDF file, an installation of LaTeX is necessary. Under Windows, use MikTex. The automatic download of missing packages (under Windows: MiKTeX settings, Install missing packages=Yes) is required. The main file is index.Rmd which contains the description of the book in its header. All other .Rmd files in the folder contain a chapter: the order of chapters is that of the file names, sorted alphabetically. The references.bib file contains the bibliography. The basic parameters of the project must be entered in the following files. 1.1 index.Rmd In the file header, enter the title of the work and the name of the author(s). title: &quot;Memoir&quot; author: &quot;Authors&#39; names&quot; LaTeX specific options are: documentclass: the document class, necessarily memoir for this template. The options of the memoir class are listed, not to be changed normally. fontfamily: font, lmodern by default. linestretch: line spacing, 1 by default. papersize: A4. fontsize: 11pt. toc-depth: number of levels in the table of contents, 3 by default. lang: fr-FR, en-US or en-GB (or any valid code1), the main language. otherlangs: ignored since pandoc version 22. graphics: yes mandatory to use the graphics package needed for figures. fig_crop: yes to allow cropping of excess margins of figures. The back cover will display the abstract in French and English and the associated keywords if the resume, keywords, abstract and keywords instructions are present; fourthpagefontsize gives the font size of the back cover, normalsize by default, to be adapted according to the length of the summaries. The command must be recognized by LaTeX. The parameters of the bibliography are: bibliography: files containing the references, [references.bib, packages.bib] by default. package.bib is created by the first code chunk of the document: it allows packages declared with identifiers of the form @R-package to be cited. R itself is quoted by @R-base. biblio-style: the bibliographic style, authoryear-ibid by default. cite-style: the citation style in the LaTeX document, verbose-inote by default. biblatexoptions contains the list of biblatex options, used to produce the PDF document. link-citations: yes to make the citations hyperlinks. colorlinks: yes to make the hyperlinks be displayed in color. The cover will be: Book format if the maintitlepage statement is present. The content of epigraph will be written on page 2. the first page of the PDF file declared in the pdftitlepage instruction if it is present. Delete one of the two instructions in the header. For a student thesis, prepare the cover page with Word, Powerpoint or a DTP program and save it in PDF format, in A4 size. Only the first page of the PDF is used. 1.2 _bookdown.yml Enter the name of the Rmd file that will be the result of the merging of all chapters and choose if it should be destroyed after use. The default options will suit most uses. book_filename: &quot;MyBook&quot; delete_merged_file: true If the project is hosted on GitHub, indicate its address. Otherwise, delete the line. repo: &quot;https://github.com/GitHubID/Repository&quot; There is no need to fill in the keywords according to the language of the work. The language options are supported elsewhere. language: ui: chapter_name: &quot;Chapter&quot; 1.3 _output.yml Customize the table of contents in HTML format. config: toc: before: | &lt;li&gt;&lt;a href=&quot;./&quot;&gt;Bookdown book&lt;/a&gt;&lt;/li&gt; after: | &lt;li&gt;&lt;a href=&quot;https://github.com/GitHubID/Repository 1.4 Multilingual documents Only the main language of the document is declared in the header. The titles will be written in this language (e.g.: Chapter / Chapitre). To use other languages punctually in the text, they must be activated in preamble.tex in the latex folder. American English and French are activated by default. Changing the language has no effect in HTML, but changes punctuation, hyphenation… in PDF output. To switch to English, insert the following code into the text: \\selectlanguage{english} The language change in basic markdown format, ::: {lang=en-US} is not supported by R Markdown. https://mirrors.ircam.fr/pub/CTAN/macros/unicodetex/latex/polyglossia/polyglossia.pdf↩︎ https://github.com/jgm/pandoc/issues/4072↩︎ "],["syntax.html", "2 Syntax 2.1 Write 2.2 R code 2.3 Figures 2.4 Tables 2.5 Maths 2.6 Cross-references 2.7 Bibliography 2.8 Languages 2.9 Chapter summary 2.10 User documentation 2.11 Documentation for developers", " 2 Syntax Deliver the take-home message here. It can contain several paragraphs. The syntax of R Mardown extended by Bookdown is recalled here. In RStudio, create a new document of type Document R Markdown. The wizard allows you to choose between different formats. Click on From template: from templates installed by packages. The memoiR package templates are displayed: choose Memoir. Each chapter of the book is an Rmd file, whose name normally starts with its number (e.g. 01-intro.Rmd). All Rmd files in the project folder are actually treated as chapters, sorted by filename, including those provided by the template (startup and syntax) which should be deleted except for 99-references.Rmd which contains the bibliography, placed at the end. The index.Rmd file is special: it contains the document header and the first chapter. 2.1 Write The main features of Markdown are summarized here. A quick and complete training is offered by RStudio3. The text is written without any formatting other than line breaks. A simple line break has no effect on the document produced: it allows to separate sentences to simplify the tracking of the source code by git. A line break marks a paragraph change. The different levels of the plan are designated by the number of braces at the beginning of the line: # for a level 1 title, ## for a level 2 title, etc. A space separates the hashes and the title text. Bulleted lists are marked by a dash (followed by a space) at the beginning of the line. An empty line is required before the beginning of the list, but the elements of the list are separated by a simple line break. Indented lists are created by inserting 4 spaces before the dash at the beginning of the line. Last, numbered lists are created in the same way by replacing the hyphens by numbers, whose value does not matter. In the text, the italicized parts are surrounded by a star or an underscore (*italic*), while two stars mark the bold. 2.2 R code R code is included in code chunks (code chunks) that are easily created by clicking on the “Insert a new code chunk” button above the source code window in RStudio. They start and end with three quotation marks on a new line. These code chunks can contain R code but also Python code for example: the type of code is indicated in the header on the first line, before the name of the code chunk, then a comma separated list of options, for example: ```{r cars, echo=TRUE} ``` The name and options are optional: the minimum header is {r}. The most useful options are: echo to show (=TRUE) or hide (=FALSE) the code. message=FALSE to hide the opening messages of some packages. warning=FALSE to hide warnings. The default options are declared in the code snippet named “Options” at the beginning of the Markdown document, in the opts_chunk$set() function. The echo option should be set to FALSE by default for a scientific article for example. When it is TRUE, the code is printed as follow 2 + 2 ## [1] 4 2.3 Figures plot(pressure) Figure 2.1: Figure title Figures can be created by the R code (figure 2.1). With Bookdown, a label is associated with each figure: its name is fig:xxx where xxx is the name of the R code snippet. References are made with the command \\@ref(fig:xxx). The header of the code snippet of the figure 2.1 is: ```{r pressure, fig.cap=&quot;Title of the figure&quot;} ``` It contains at least the name of the figure and its caption. If the caption is long, the header is not very readable. Also, the caption is limited to simple text. For more elaborate captions, it is possible to declare the caption in a separate paragraph that begins with the text (ref:FigureName). The figure 2.2 benefits from an improved caption. Figure 2.2: Title with italic, math (\\(\\sqrt\\pi\\)) and reference to figure 2.1 The text in fig.cap, “Title of figure” previously, is replaced by (ref:pressure) within the quotation marks and the caption is entered in a paragraph starting with (ref:pressure) followed by a space. Captions are limited to a single paragraph. Figures that are not created by R but come from files are embedded in a piece of code by the include_graphics() function whose argument is the file containing the image to be displayed. Always place these files in the images folder for good organization. 2.4 Tables The horizontal - and vertical separators | allow to draw a table according to the Markdown syntax, but it is not the best method. Tables can also be produced by R code. The content of the table is in a dataframe. The kable function in the knitr package prepares the table for display and passes the result to the kable_styling function in the kableExtra package for final formatting. library(&quot;tidyverse&quot;) names(iris) &lt;- c(&quot;Sepal length ($l_s$)&quot;, &quot;Width&quot;, &quot;Petal length&quot;, &quot;Width&quot;, &quot;Species&quot;) knitr::kable(head(iris), caption = &quot;Table created by R&quot;, longtable = TRUE, booktabs = TRUE, escape = FALSE) %&gt;% kableExtra::kable_styling(bootstrap_options = &quot;striped&quot;, full_width = FALSE) Table 2.1: Table created by R Sepal length (\\(l_s\\)) Width Petal length Width Species 5.1 3.5 1.4 0.2 setosa 4.9 3.0 1.4 0.2 setosa 4.7 3.2 1.3 0.2 setosa 4.6 3.1 1.5 0.2 setosa 5.0 3.6 1.4 0.2 setosa 5.4 3.9 1.7 0.4 setosa The caption is specified by the caption argument and referencing is possible because the table is given a label whose name is tab: followed by the name of the code snippet (table 2.1). As with figures, an enhanced legend can be written in a separate paragraph. Always use the booktabs = TRUE argument so that the thickness of the separator lines is optimal in LaTeX. Since the table contains mathematics (in the name of the first column), the escape = FALSE option is necessary. The bootstrap_options = \"striped\" style option provides more readable tables in HTML. LAst, the full_width = FALSE option allows you to adjust the width of the table to its content instead of occupying all the available width. 2.5 Maths Equations in LaTeX format can be inserted in line, like \\(A=\\pi r^2\\) (code: $A=\\pi r^2$) or isolated (the $ are doubled) like \\[e^{i \\pi} = -1.\\] They can be numbered: see equation (2.1), using the \\equation environment. \\[\\begin{equation} A = \\pi r^2. \\tag{2.1} \\end{equation}\\] The numbered equation is created by the following code: \\begin{equation} A = \\pi r^2. (\\#eq:disk) \\end{equation} 2.6 Cross-references Figures and tables have an automatically generated label, identical to the name of the code snippet prefixed with fig: and tab:. For equations, the label is added manually by the code (\\#eq:xxx) before the end of the equation. Sections can be tagged by ending their title with {#yyy}. Bookmarks can also be placed freely in the text with the command (ref:zzz). In all cases, the call to the reference is made by the command \\@ref(ref:zzz). 2.7 Bibliography Bibliographic references in bibtex format must be included in the .bib file declared in the header of the Markdown document. bibliography: references.bib They can be called in the text, between brackets by the code [@CitationKey], as sidenotes (Xie 2016), or without square brackets, to include the authors’ names in the text, such as Xie, Allaire, and Grolemund (2018) . Bibliography is handled by pandoc when producing Word or HTML documents. The bibliographic style can be specified, by adding the line csl:file_name.csl in the document header and copying the .csl style file into the project folder. The default style (if no csl is specified) is “chicago-author-date”. Several thousand styles are available.4 For PDF documents, the bibliography is handled by LaTeX. It is chosen in the header of index.Rmd. 2.8 Languages English and French are supported, to be declared in the document header. The main language of the document changes the name of some elements, such as the table of contents. The change of language in the document is managed in LaTeX but not in HTML by inserting on a new line the following command: \\selectlanguage{english} The current language has an effect only in LaTeX output: a space is added before double punctuation in French, the size of spaces is larger at the beginning of sentences in English, etc. The \\selectlanguage command is simply ignored in HTML. EcoFoG templates use the LaTeX package babel which recognizes the language names English and french. Pandoc on the other hand uses the IETF codes fr-FR or en-US for limited language support in HTML. Both parameters must therefore be entered in the document header. 2.9 Chapter summary The take-home message of each chapter can be displayed in a box, see the beginning of this one. The code is that of a code block of type “Summary”. ```{block, type=&#39;Summary&#39;} Some text for this block. ``` 2.10 User documentation The book bookdown: Authoring Books and Technical Documents with R Markdown by Yihui Xie, the author of bookdown and knitr. All the necessary details for writing (writing equations, cross-references, etc.) are given. The R Markdown cheat sheet for the syntax. 2.11 Documentation for developers LaTeX file format customization. The Pandoc manual for possible options in the YAML header. References "],["references.html", "References", " References "]]
